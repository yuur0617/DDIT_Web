<!DOCTYPE html>
<html lang="en">
<script>
    //1. 비동기 통신을 위한 객체 생성
    // >> 서버와 상호작용하기 위해 사용함.. 새로고침없이 데이터를 받아옴
    let req=new XMLHttpRequest();
    
    //2. 요청 정보 설정 - 비동기 여부는 특별한 상황이 아니면 기본값(비동기) 사용
    // req.open(method,url,async); //async:true(default,생략가능)
    // method : get or post 
    // url : 요청을 전달할 서버주소
    // async : 동기적,비동기적 설정
    req.open('get','test.txt',true); 
    //4. 이벤트를 통해 응답가능 상태를 확인
    //onreadystatechange : 요청에 대한 응답을 받는 이벤트 리스너
    req.onreadystatechange = function(){
        //상태 변경(2,3,4)마다 이벤트를 발생시키고 함수 연결
        //2: 요청받음 / 3: 요청처리중 / 4:요청완료 후 응답준비
        console.log(req.readyState);
        console.log(req.status);
        if(req.readyState==4 && req.status==200){
            console.log(req.responseText);//응답 결과..
        }

    //3. 요청 정보를 서버로 전달
    req.send();//설정 정보를 url위치로 전달
    }
</script>